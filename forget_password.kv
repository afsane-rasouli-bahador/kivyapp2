MDScreen:
    name: 'forget_password'

    MDFloatLayout:
        MDIconButton:
            icon: 'arrow-left'
            pos_hint: {'center_y': .95}
            on_release: app.show_login()
        MDLabel:
            text: 'Back'
            font_size: '18sp'
            font_name: 'fonts/Poppins-Regular.ttf'
            pos_hint: {'center_x': .615, 'center_y': .949}
            
        MDLabel:
            text: 'Forgot Password?'
            font_name: 'fonts/Poppins-SemiBold.ttf'
            font_size: '28sp'
            halign: 'center'
            pos_hint: {'center_x': .5, 'center_y': .85}

        MDTextField:
            id: username_field
            hint_text: "Enter your username"
            pos_hint: {'center_x': .5, 'center_y': .65}
            size_hint_x: .9
            mode: "rectangle"

        MDRaisedButton:
            text: "Verify Username"
            md_bg_color: 226/255, 0, 48/255, 1
            size_hint: .9, .07
            pos_hint: {'center_x': .5, 'center_y': .55}
            on_release: app.check_username(username_field.text)

        MDTextField:
            id: new_password
            hint_text: "New Password"
            pos_hint: {'center_x': .5, 'center_y': .35}
            size_hint_x: .9
            password: True
            mode: "rectangle"

        MDTextField:
            id: confirm_password
            hint_text: "Confirm New Password"
            pos_hint: {'center_x': .5, 'center_y': .25}
            size_hint_x: .9
            password: True
            mode: "rectangle"

        MDRaisedButton:
            text: "Reset Password"
            size_hint: .9, .07
            md_bg_color: 226/255, 0, 48/255, 1
            pos_hint: {'center_x': .5, 'center_y': .15}
            on_release: 
                app.reset_password(username_field.text, new_password.text, confirm_password.text)

        MDLabel:
            text: "Enter your username and follow the steps to reset your password."
            font_size: '11sp'
            size_hint_y: None
            height: self.texture_size[1]
            pos_hint: {'center_x': .5, 'center_y': .75}
            halign: 'center'
